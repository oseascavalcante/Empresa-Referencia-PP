{% if tipos %}
<table class="table table-hover">
    <thead>
        <tr>
            <th style="background: #B8B8FF !important; color: #2C2C54 !important;">Nome</th>
            <th style="background: #B8B8FF !important; color: #2C2C54 !important;">Categoria</th>
            <th style="background: #B8B8FF !important; color: #2C2C54 !important;">Descrição</th>
            <th style="background: #B8B8FF !important; color: #2C2C54 !important;">Veículos Cadastrados</th>
            <th style="background: #B8B8FF !important; color: #2C2C54 !important;" width="120">Ações</th>
        </tr>
    </thead>
    <tbody>
        {% for tipo in tipos %}
        <tr>
            <td>
                <strong>{{ tipo.nome }}</strong>
            </td>
            <td>
                <span class="categoria-badge categoria-{{ tipo.categoria }}">
                    {{ tipo.get_categoria_display }}
                </span>
            </td>
            <td>
                {% if tipo.descricao %}
                    {{ tipo.descricao|truncatechars:80 }}
                {% else %}
                    <em class="text-muted">Sem descrição</em>
                {% endif %}
            </td>
            <td>
                <span class="badge bg-{% if tipo.total_veiculos > 0 %}success{% else %}secondary{% endif %}">
                    {{ tipo.total_veiculos }} veículo{{ tipo.total_veiculos|pluralize }}
                </span>
            </td>
            <td>
                <div class="action-buttons">
                    <button class="btn btn-outline-primary btn-sm-custom"
                            hx-get="{% url 'editar_tipo_veiculo' tipo.pk %}?partial=true"
                            hx-target="#tipo-form"
                            hx-swap="innerHTML"
                            title="Editar">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn btn-outline-danger btn-sm-custom btn-delete"
                            hx-post="{% url 'excluir_tipo_veiculo' tipo.pk %}"
                            hx-target="#lista-tipos"
                            hx-swap="innerHTML"
                            data-nome="{{ tipo.nome }}"
                            title="Excluir">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="text-center py-5">
    <i class="fas fa-car fa-3x text-muted mb-3"></i>
    <p class="text-muted">Nenhum tipo de veículo cadastrado ainda.</p>
    <button class="btn btn-primary-custom btn-custom"
            hx-get="?fragment=form"
            hx-target="#tipo-form"
            hx-swap="innerHTML">
        <i class="fas fa-plus me-2"></i>
        Cadastrar Primeiro Tipo
    </button>
</div>
{% endif %}